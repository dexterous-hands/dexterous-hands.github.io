<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>LZ Gripper ROS2 驱动包 | 灵掌WIKI</title>
    <meta name="description" content="灵掌机器人技术文档库">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/docs/assets/style.B6ZmMq6s.css" as="style">
    <link rel="preload stylesheet" href="/docs/vp-icons.css" as="style">
    
    <script type="module" src="/docs/assets/app.B6hDTPOE.js"></script>
    <link rel="preload" href="/docs/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/docs/assets/chunks/theme.W3Ws5UY3.js">
    <link rel="modulepreload" href="/docs/assets/chunks/framework.Bcr5LfWq.js">
    <link rel="modulepreload" href="/docs/assets/ros_gripper_gripper.md.lp8A0MZV.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-304c8b69><!--[--><!--]--><!--[--><span tabindex="-1" data-v-10d4d845></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-10d4d845>Skip to content</a><!--]--><!----><header class="VPNav" data-v-304c8b69 data-v-604a0865><div class="VPNavBar" data-v-604a0865 data-v-18128346><div class="wrapper" data-v-18128346><div class="container" data-v-18128346><div class="title" data-v-18128346><div class="VPNavBarTitle has-sidebar" data-v-18128346 data-v-d4488dd0><a class="title" href="/docs/" data-v-d4488dd0><!--[--><!--[--><!--[--><!--[--><img src="/LOGO_new.png" alt="Logo" class="vp-logo"><!--]--><!--]--><!--]--><!--]--><!--[--><img class="VPImage logo" src="/docs/logo.png" alt data-v-ab19afbb><!--]--><span data-v-d4488dd0>灵掌智能 WIKI</span><!--[--><!--]--></a></div></div><div class="content" data-v-18128346><div class="content-body" data-v-18128346><!--[--><!--]--><div class="VPNavBarSearch search" data-v-18128346><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-18128346 data-v-020be4db><span id="main-nav-aria-label" class="visually-hidden" data-v-020be4db> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/" tabindex="0" data-v-020be4db data-v-81dba28a><!--[--><span data-v-81dba28a>首页</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/guide/" tabindex="0" data-v-020be4db data-v-81dba28a><!--[--><span data-v-81dba28a>用户指南</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/docs/ros/gripper/gripper.html" tabindex="0" data-v-020be4db data-v-81dba28a><!--[--><span data-v-81dba28a>ROS 驱动</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/products/" tabindex="0" data-v-020be4db data-v-81dba28a><!--[--><span data-v-81dba28a>产品目录</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/about/" tabindex="0" data-v-020be4db data-v-81dba28a><!--[--><span data-v-81dba28a>关于我们</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-18128346 data-v-3f90c1a5><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-3f90c1a5 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-18128346 data-v-600b50c9 data-v-d8fae6e2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-d8fae6e2><span class="vpi-more-horizontal icon" data-v-d8fae6e2></span></button><div class="menu" data-v-d8fae6e2><div class="VPMenu" data-v-d8fae6e2 data-v-fcd1d7a8><!----><!--[--><!--[--><!----><div class="group" data-v-600b50c9><div class="item appearance" data-v-600b50c9><p class="label" data-v-600b50c9>Appearance</p><div class="appearance-action" data-v-600b50c9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-600b50c9 data-v-be9742d9 data-v-b4ccac88><span class="check" data-v-b4ccac88><span class="icon" data-v-b4ccac88><!--[--><span class="vpi-sun sun" data-v-be9742d9></span><span class="vpi-moon moon" data-v-be9742d9></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-18128346 data-v-6bee1efd><span class="container" data-v-6bee1efd><span class="top" data-v-6bee1efd></span><span class="middle" data-v-6bee1efd></span><span class="bottom" data-v-6bee1efd></span></span></button></div></div></div></div><div class="divider" data-v-18128346><div class="divider-line" data-v-18128346></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-304c8b69 data-v-73add737><div class="container" data-v-73add737><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-73add737><span class="vpi-align-left menu-icon" data-v-73add737></span><span class="menu-text" data-v-73add737>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-73add737 data-v-e28a51a6><button data-v-e28a51a6>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-304c8b69 data-v-49f51a23><div class="curtain" data-v-49f51a23></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-49f51a23><span class="visually-hidden" id="sidebar-aria-label" data-v-49f51a23> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-a84b7c21><section class="VPSidebarItem level-0 has-active" data-v-a84b7c21 data-v-6b36a2fd><div class="item" role="button" tabindex="0" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><h2 class="text" data-v-6b36a2fd>ROS 驱动</h2><!----></div><div class="items" data-v-6b36a2fd><!--[--><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/docs/ros/gripper/gripper.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>灵巧手驱动 (ROS2)</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-6b36a2fd data-v-6b36a2fd><div class="item" data-v-6b36a2fd><div class="indicator" data-v-6b36a2fd></div><a class="VPLink link link" href="/docs/ros/ws/ws.html" data-v-6b36a2fd><!--[--><p class="text" data-v-6b36a2fd>工作空间配置</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-304c8b69 data-v-bd4f21ea><div class="VPDoc has-sidebar has-aside" data-v-bd4f21ea data-v-d668f7cc><!--[--><!--]--><div class="container" data-v-d668f7cc><div class="aside" data-v-d668f7cc><div class="aside-curtain" data-v-d668f7cc></div><div class="aside-container" data-v-d668f7cc><div class="aside-content" data-v-d668f7cc><div class="VPDocAside" data-v-d668f7cc data-v-cb998dce><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-cb998dce data-v-c8b19031><div class="content" data-v-c8b19031><div class="outline-marker" data-v-c8b19031></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-c8b19031>On this page</div><ul class="VPDocOutlineItem root" data-v-c8b19031 data-v-63c57e50><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-cb998dce></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-d668f7cc><div class="content-container" data-v-d668f7cc><!--[--><!--]--><main class="main" data-v-d668f7cc><div style="position:relative;" class="vp-doc _docs_ros_gripper_gripper" data-v-d668f7cc><div><h1 id="lz-gripper-ros2-驱动包" tabindex="-1">LZ Gripper ROS2 驱动包 <a class="header-anchor" href="#lz-gripper-ros2-驱动包" aria-label="Permalink to “LZ Gripper ROS2 驱动包”">​</a></h1><p><code>lz_gripper_ros2</code> 是灵掌灵巧手的 ROS2 驱动接口，包含底层驱动接口以及高层控制接口。它允许用户通过 ROS2 话题轻松控制灵巧手的关节位置、速度和力度，并获取实时状态。</p><h2 id="功能特性" tabindex="-1">功能特性 <a class="header-anchor" href="#功能特性" aria-label="Permalink to “功能特性”">​</a></h2><ul><li><strong>底层通信</strong>：基于 Modbus RTU 的灵巧手底层通信。</li><li><strong>控制接口</strong>：提供高层控制话题，支持手掌整体状态及单个关节点的精细控制。</li><li><strong>状态反馈</strong>：通过 ROS2 话题实时发布灵巧手关节状态及压力传感器数据。</li><li><strong>高度可配</strong>：支持通过启动参数自定义通信接口（如串口名）和波特率。</li></ul><h2 id="依赖条件" tabindex="-1">依赖条件 <a class="header-anchor" href="#依赖条件" aria-label="Permalink to “依赖条件”">​</a></h2><ul><li><strong>ROS2</strong>：建议使用 ROS2 Jazzy 或更高版本。</li><li><strong>驱动库</strong>：需安装 <code>serial_driver</code>。</li></ul><h2 id="安装步骤" tabindex="-1">安装步骤 <a class="header-anchor" href="#安装步骤" aria-label="Permalink to “安装步骤”">​</a></h2><ol><li><p><strong>下载代码</strong>：将驱动包克隆到你的 ROS2 工作空间（例如 <code>~/ros2_ws</code>）：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/ros2_ws/src</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 克隆仓库</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">repository_ur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lz_gripper_ros2</span></span></code></pre></div></li><li><p><strong>编译工程</strong>：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/ros2_ws</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">colcon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --packages-select</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lz_gripper_ros2</span></span></code></pre></div></li><li><p><strong>环境初始化</strong>：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install/setup.bash</span></span></code></pre></div></li></ol><h2 id="使用指南" tabindex="-1">使用指南 <a class="header-anchor" href="#使用指南" aria-label="Permalink to “使用指南”">​</a></h2><h3 id="启动驱动节点" tabindex="-1">启动驱动节点 <a class="header-anchor" href="#启动驱动节点" aria-label="Permalink to “启动驱动节点”">​</a></h3><p>使用以下命令启动灵巧手驱动节点：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ros2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> launch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lz_gripper_ros2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lz_gripper.launch.py</span></span></code></pre></div><h3 id="启动参数" tabindex="-1">启动参数 <a class="header-anchor" href="#启动参数" aria-label="Permalink to “启动参数”">​</a></h3><p>你可以通过命令行覆盖默认参数：</p><table tabindex="0"><thead><tr><th style="text-align:left;">参数名</th><th style="text-align:left;">说明</th><th style="text-align:left;">默认值</th></tr></thead><tbody><tr><td style="text-align:left;"><code>port</code></td><td style="text-align:left;">连接灵巧手的串口名称</td><td style="text-align:left;"><code>/dev/ttyUSB0</code></td></tr><tr><td style="text-align:left;"><code>baud_rate</code></td><td style="text-align:left;">串口通信波特率</td><td style="text-align:left;"><code>115200</code></td></tr><tr><td style="text-align:left;"><code>publish_rate</code></td><td style="text-align:left;">关节状态话题的发布频率 (Hz)</td><td style="text-align:left;"><code>10.0</code></td></tr></tbody></table><p><strong>示例命令</strong>：</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ros2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> launch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lz_gripper_ros2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lz_gripper.launch.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> port:=/dev/ttyACM0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> baud_rate:=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">115200</span></span></code></pre></div><h2 id="ros2-话题说明" tabindex="-1">ROS2 话题说明 <a class="header-anchor" href="#ros2-话题说明" aria-label="Permalink to “ROS2 话题说明”">​</a></h2><h3 id="订阅话题-subscribed-topics" tabindex="-1">订阅话题 (Subscribed Topics) <a class="header-anchor" href="#订阅话题-subscribed-topics" aria-label="Permalink to “订阅话题 (Subscribed Topics)”">​</a></h3><ul><li><strong><code>/finger_positions</code></strong> (<code>std_msgs/Float32MultiArray</code>) <ul><li>设置单个手指的目标位置（范围 0-1000）。</li><li>数组大小必须为 6（每个手指一个值）。</li></ul></li><li><strong><code>/gripper_command</code></strong> (<code>std_msgs/Bool</code>) <ul><li><code>true</code>：控制灵巧手握紧。</li><li><code>false</code>：控制灵巧手张开。</li></ul></li><li><strong><code>/write_register</code></strong> (<code>std_msgs/Float32MultiArray</code>) <ul><li>综合控制接口，支持设置位置、速度、力度等。详见<a href="#控制逻辑详解">控制逻辑详解</a>。</li></ul></li></ul><h3 id="发布话题-published-topics" tabindex="-1">发布话题 (Published Topics) <a class="header-anchor" href="#发布话题-published-topics" aria-label="Permalink to “发布话题 (Published Topics)”">​</a></h3><ul><li><strong><code>/lv_gripper_states</code></strong> (<code>sensor_msgs/JointState</code>) <ul><li>实时发布 5 个手指的当前关节位置。</li><li>关节名称：<code>finger1</code>, <code>finger2</code>, <code>finger3</code>, <code>finger4</code>, <code>finger5</code>。</li></ul></li><li><strong><code>/gripper_state</code></strong> (<code>std_msgs/Bool</code>) <ul><li>灵巧手的整体开合状态反馈。</li><li><code>true</code>：已握紧；<code>false</code>：已张开。</li></ul></li></ul><h3 id="获取压力传感器数据" tabindex="-1">获取压力传感器数据 <a class="header-anchor" href="#获取压力传感器数据" aria-label="Permalink to “获取压力传感器数据”">​</a></h3><p>灵巧手的压力传感器数据包含在 <code>/lv_gripper_states</code> 话题中（对应 <code>effort</code> 字段），有效值范围通常在 <code>750</code>–<code>3000</code> 之间。</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ros2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> topic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /lv_gripper_states</span></span></code></pre></div><h2 id="控制逻辑详解" tabindex="-1">控制逻辑详解 <a class="header-anchor" href="#控制逻辑详解" aria-label="Permalink to “控制逻辑详解”">​</a></h2><p>为了确保灵巧手按程序的顺序执行，建议使用 <code>/write_register</code> 话题进行控制。</p><h3 id="set-register-数据格式" tabindex="-1"><code>set_register</code> 数据格式 <a class="header-anchor" href="#set-register-数据格式" aria-label="Permalink to “set_register 数据格式”">​</a></h3><p>发送给 <code>/write_register</code> 的数组（<code>Float32MultiArray</code>）应包含 10 位数据，格式如下：</p><table tabindex="0"><thead><tr><th style="text-align:left;">索引</th><th style="text-align:left;">功能 (索引0)</th><th style="text-align:left;">索引1</th><th style="text-align:left;">索引2</th><th style="text-align:left;">索引3</th><th style="text-align:left;">索引4</th><th style="text-align:left;">索引5</th><th style="text-align:left;">索引6</th><th style="text-align:left;">索引7</th><th style="text-align:left;">索引8</th><th style="text-align:left;">索引9</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>位置设置</strong></td><td style="text-align:left;"><code>Finger_Positions</code> (1)</td><td style="text-align:left;">左手2/右手1</td><td style="text-align:left;">运行时间(ms)</td><td style="text-align:left;">大拇指翻转</td><td style="text-align:left;">大拇指弯曲</td><td style="text-align:left;">食指弯曲</td><td style="text-align:left;">中指弯曲</td><td style="text-align:left;">无名指弯曲</td><td style="text-align:left;">小拇指弯曲</td><td style="text-align:left;">-</td><td style="text-align:left;">设置各关节弯曲幅度(0-1000)</td></tr><tr><td style="text-align:left;"><strong>开合控制</strong></td><td style="text-align:left;"><code>Gripper_Command</code> (2)</td><td style="text-align:left;">左手2/右手1</td><td style="text-align:left;">运行时间(ms)</td><td style="text-align:left;">动作值(0/1)</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td><td style="text-align:left;">-</td><td style="text-align:left;">0为张开，1为握紧</td></tr><tr><td style="text-align:left;"><strong>速度设置</strong></td><td style="text-align:left;"><code>Finger_Velocity</code> (3)</td><td style="text-align:left;">左手2/右手1</td><td style="text-align:left;">紧急0/正常1</td><td style="text-align:left;">运行时间(ms)</td><td style="text-align:left;">大拇指翻转速</td><td style="text-align:left;">大拇指速</td><td style="text-align:left;">食指速</td><td style="text-align:left;">中指速</td><td style="text-align:left;">无名指速</td><td style="text-align:left;">小拇指速</td><td style="text-align:left;">设置各关节运动速度(0-1000)</td></tr><tr><td style="text-align:left;"><strong>力度设置</strong></td><td style="text-align:left;"><code>Finger_Effort</code> (4)</td><td style="text-align:left;">左手2/右手1</td><td style="text-align:left;">紧急0/正常1</td><td style="text-align:left;">运行时间(ms)</td><td style="text-align:left;">大拇指翻转力</td><td style="text-align:left;">大拇指力</td><td style="text-align:left;">食指力</td><td style="text-align:left;">中指力</td><td style="text-align:left;">无名指力</td><td style="text-align:left;">小拇指力</td><td style="text-align:left;">设置各关节抓取力度(0-1000)</td></tr></tbody></table><h2 id="python-控制示例" tabindex="-1">Python 控制示例 <a class="header-anchor" href="#python-控制示例" aria-label="Permalink to “Python 控制示例”">​</a></h2><p>以下是一个简单的 Python 节点示例，演示如何通过 <code>/write_register</code> 话题控制灵巧手：</p><div class="language-python"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rclpy</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> rclpy.node </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Node</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> std_msgs.msg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Float32MultiArray</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 常量定义</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FINGER_POSITIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FINGER_VELOCITY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FINGER_EFFORT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4.0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LEFT_HAND</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2.0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RIGHT_HAND</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NORMAL_MODE</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> GripperController</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Node</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self):</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        super</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">__init__</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;gripper_controller&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.register_pub </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.create_publisher(Float32MultiArray, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;write_register&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> set_gripper</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, data):</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        msg </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Float32MultiArray()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        msg.data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">float</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data]</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.register_pub.publish(msg)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.get_logger().info(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Published command: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">{</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">msg.data</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">}</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">():</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rclpy.init()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    node </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GripperController()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 1. 设置力度 (索引顺序：功能, 手ID, 运行模式, 运行时间, 翻转力, 指1力, 指2力, 指3力, 指4力, 指5力)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    node.set_gripper([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FINGER_EFFORT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LEFT_HAND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NORMAL_MODE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1000.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 2. 设置速度</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    node.set_gripper([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FINGER_VELOCITY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LEFT_HAND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NORMAL_MODE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 3. 设置动作 (功能, 手ID, 持续时间ms, 翻转角度, 指1, 指2, 指3, 指4, 指5)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 示例：半握拳动作</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    node.set_gripper([</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">FINGER_POSITIONS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">LEFT_HAND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">500.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">300.0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rclpy.spin(node)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    node.destroy_node()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    rclpy.shutdown()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> __name__</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;__main__&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    main()</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-d668f7cc data-v-1bcd8184><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-1bcd8184><span class="visually-hidden" id="doc-footer-aria-label" data-v-1bcd8184>Pager</span><div class="pager" data-v-1bcd8184><!----></div><div class="pager" data-v-1bcd8184><a class="VPLink link pager-link next" href="/docs/ros/ws/ws.html" data-v-1bcd8184><!--[--><span class="desc" data-v-1bcd8184>Next page</span><span class="title" data-v-1bcd8184>工作空间配置</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><div class="footer-copyright">苏ICP备XXXXXXXXX | Copyright © 2025-present 无锡灵掌机器人科技有限公司</div><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about_index.md\":\"DwY8cVDp\",\"guide_index.md\":\"C6FHKMgw\",\"index.md\":\"0Lp_mRvL\",\"products_index.md\":\"DKAk0Of1\",\"ros_gripper_gripper.md\":\"lp8A0MZV\",\"ros_ws_ws.md\":\"Bsh8OdlN\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"灵掌WIKI\",\"description\":\"灵掌机器人技术文档库\",\"base\":\"/docs/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.png\",\"siteTitle\":\"灵掌智能 WIKI\",\"nav\":[{\"text\":\"首页\",\"link\":\"/\"},{\"text\":\"用户指南\",\"link\":\"/guide/\"},{\"text\":\"ROS 驱动\",\"link\":\"/ros/gripper/gripper\"},{\"text\":\"产品目录\",\"link\":\"/products/\"},{\"text\":\"关于我们\",\"link\":\"/about/\"}],\"sidebar\":{\"/ros/\":[{\"text\":\"ROS 驱动\",\"items\":[{\"text\":\"灵巧手驱动 (ROS2)\",\"link\":\"/ros/gripper/gripper\"},{\"text\":\"工作空间配置\",\"link\":\"/ros/ws/ws\"}]}],\"/guide/\":[{\"text\":\"快速开始\",\"link\":\"/guide/\"},{\"text\":\"安装配置\",\"link\":\"/guide/installation\"},{\"text\":\"使用教程\",\"link\":\"/guide/usage\"}],\"/api/\":[{\"text\":\"API 概述\",\"link\":\"/api/\"},{\"text\":\"C SDK\",\"items\":[{\"text\":\"概述\",\"link\":\"/api/C SDK/index.md\"},{\"text\":\"初始化\",\"link\":\"/api/C SDK/init.md\"},{\"text\":\"设备管理\",\"link\":\"/api/C SDK/device.md\"},{\"text\":\"运动控制\",\"link\":\"/api/C SDK/motion.md\"},{\"text\":\"状态获取\",\"link\":\"/api/C SDK/status.md\"},{\"text\":\"事件处理\",\"link\":\"/api/C SDK/event.md\"},{\"text\":\"消息中心\",\"link\":\"/api/C SDK/message_center.md\"}]},{\"text\":\"C++ SDK\",\"items\":[{\"text\":\"概述\",\"link\":\"/api/C++ SDK/index.md\"},{\"text\":\"核心功能\",\"link\":\"/api/C++ SDK/core.md\"},{\"text\":\"设备管理\",\"link\":\"/api/C++ SDK/device.md\"},{\"text\":\"运动控制\",\"link\":\"/api/C++ SDK/motion.md\"},{\"text\":\"状态获取\",\"link\":\"/api/C++ SDK/status.md\"},{\"text\":\"消息中心\",\"link\":\"/api/C++ SDK/message_center.md\"},{\"text\":\"日志功能\",\"link\":\"/api/C++ SDK/log.md\"},{\"text\":\"数据采集\",\"link\":\"/api/C++ SDK/data_collect.md\"},{\"text\":\"多线程支持\",\"link\":\"/api/C++ SDK/multithreads.md\"},{\"text\":\"ROS1节点\",\"link\":\"/api/C++ SDK/ros1_node.md\"},{\"text\":\"ROS2节点\",\"link\":\"/api/C++ SDK/ros2_node.md\"}]},{\"text\":\"Python SDK\",\"items\":[{\"text\":\"概述\",\"link\":\"/api/PythonSDK/index.md\"}]},{\"text\":\"LZVision\",\"items\":[{\"text\":\"概述\",\"link\":\"/api/LZVision/index.md\"},{\"text\":\"图像分类\",\"link\":\"/api/LZVision/classfy.md\"},{\"text\":\"目标检测\",\"link\":\"/api/LZVision/detect.md\"},{\"text\":\"模型选择\",\"link\":\"/api/LZVision/modelselect.md\"},{\"text\":\"训练器\",\"link\":\"/api/LZVision/trainer.md\"}]},{\"text\":\"LZDemonstrator\",\"items\":[{\"text\":\"概述\",\"link\":\"/api/LZDemonstrator/index.md\"}]},{\"text\":\"LZEngine_RL\",\"items\":[{\"text\":\"概述\",\"link\":\"/api/LZEngine_RL/index.md\"}]},{\"text\":\"LZ-LLM\",\"items\":[{\"text\":\"概述\",\"link\":\"/api/LZ-LLM/index.md\"}]}],\"/products/\":[{\"text\":\"产品目录\",\"link\":\"/products/\"},{\"text\":\"LZ-01 灵巧手\",\"link\":\"/products/LZ-01/\"},{\"text\":\"LZ-Slient 静音灵巧手\",\"link\":\"/products/LZ-Slient/\"},{\"text\":\"Client 客户端软件\",\"link\":\"/products/Client/\"}]},\"notFound\":{\"title\":\"找不到页面\",\"quote\":\"抱歉，您访问的页面不存在或已被移动。\",\"linkText\":\"返回首页\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>